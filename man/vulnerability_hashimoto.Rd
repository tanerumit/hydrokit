% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/wres_metrics.R
\name{vulnerability_hashimoto}
\alias{vulnerability_hashimoto}
\title{Hashimoto vulnerability}
\usage{
vulnerability_hashimoto(
  obs_threshold,
  sim_supply,
  statistic = c("mean", "max"),
  na_action = c("omit", "fail"),
  no_failure = c("na", "zero")
)
}
\arguments{
\item{obs_threshold}{Numeric vector. Threshold per timestep (same units as supply).}

\item{sim_supply}{Numeric vector. Supply per timestep.}

\item{statistic}{Character scalar: "mean" or "max" applied to deficit magnitudes
over failure timesteps.}

\item{na_action}{Character scalar: "omit" (drop non-finite pairs) or "fail" (error).}

\item{no_failure}{Character scalar: value if there are no failures: "na" (default), "zero".}
}
\value{
Numeric scalar (units of supply/demand). Returns NA_real_ if undefined.
}
\description{
Vulnerability summarizes the severity of failure when failure occurs.
This implementation uses deficit magnitude \eqn{M_t = max(threshold - supply, 0)}
and returns a summary over failure timesteps:
\deqn{V = E(M_t \mid S_t=0)} (default statistic = mean).
}
\details{
This is the common “state-based” vulnerability variant. If you need event-based
vulnerability (e.g., mean of event-integrated deficits), implement separately
to avoid mixing definitions.
}
\examples{
obs_threshold <- rep(10, 5)
sim_supply <- c(12, 8, 10, 11, 9)
vulnerability_hashimoto(obs_threshold, sim_supply, statistic = "mean")
}
